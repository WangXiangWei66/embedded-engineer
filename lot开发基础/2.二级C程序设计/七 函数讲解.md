本章节主要讲解函数的定义、返回值、参数、递归以及函数的应用

1. C语言程序的模块化通过以下哪个选项来实现
   A.变量
   B.函数
   c.程序行
   D.语句

   ```
   正确答案:B
   【参考解析】C语言程序的模块化通过函数来体现，所以选择B。
   ```
2. ```cpp
   有以下程序
   #include <stdio.h>
   int fun( int a,int b)
   { return a+b; }
   main()
   { int x=6，y=7，z=8, r;
     r = fun (fun (x,y)，z--);
     printf ("%d\n"， r) ;
   }
   程序运行后的输出结果是
   A.21
   B.15
   C.20
   D.31
   ```
   ```
   正确答案:A
   【参考解析】函数fun的功能是返回两个形参的和。调用函数fun(x, y)时，将变量x=6和y=7的值分别传送
   变量a和b，并且通过语句return a+b;将13返回给主函数。继续调用函数fun(13,z--)，这里z--指将z的值
   参与运算后，再将z的值减1操作;将13和8分别传送变量a和b，且通过语句return atb;将21返回给主函数。
   因此A选项正确。
   ```
3. ```cpp
   有以下程序
   #include <stdio.h>
   fun( int a,int b )
   { int static m=0,i=2;//加了Static后，函数的声明周期延长至了整个程序的生命周期
     i=i+m+1;
     m=i+a+b;
     return m;
   }
   main()
   { int k=4,m=1，p;
     p=fun( k,m) ;
     printf("%d,",p);
     p=fun( k, m) ;
     printf("%d\n",p);
   }
   程序运行后的输出结果是
   A.8,17
   B.7,16
   C.8,8
   D.7,17
   ```
   ```
   正确答案:A
   【参考解析】本题考查静态局部变量，本题中先执行fun(4,1)得到返回值为8，此时静态局部变量m为8，i为3，
   那么再次执行fun(4,1)得到的值为17，所以选项A正确。
   ```
4. ```cpp
   有以下程序:
   #include <stdio.h>
   int fun( char s[])
   {
     int n=0;
     while(*s <='9’&&*s >='0') { n=10*n+*s-'0';s++;}
     return (n);
   }
   main()
   {
     char s[10]={'6','1','*','4','*','9', 'o','*'};
     printf("%d\n",fun(s)) ;
   }
   程序的运行结果是
   A.5
   B.9
   C.61
   D.61490
   ```
   ```
   正确答案:c
   【参考解析】在fun函数中，while循环的功能是:逐个取字符数组s的字符判断其是否是数字。若是则将其作为
   个位数字保存到变量n中，n的原数据的各个数位将相应左移一个10进制位。当指针s指向数组的第3位时，
   循环条件不成立，循环结束，返回n的值，输出n的值为61。因此C选项正确。
   ```
5. 以下叙述正确的是
   A.C语言函数可以嵌套调用，例如: fun(fun(x))
   B.C语言程序是由过程和函数组成的
   C.C语言函数不可以单独编译
   D.C语言中除了main函数，其他函数不可作为单独文件形式存在

   ```
   正确答案:A
   【参考解析】C语言程序是由函数组成的，所以B错误。C语言函数可以单独进行编译，所以C错误。每个C程序中
   必须包含一个main函数，但不一定是每个C程序文件中必须有用户单独编写的某个函数也可以存储为一个
   C程序文件，所以D错误。
   ```
6. 若各选项中所用变量已正确定义，函数fun中通过return语句返回一个函数值，以下选项中错误的程序是
   A.main()
   {.. . ...x=fun(2,10); ..... .}
   float fun(int a,intB){.. . . . .}
   B.float fun(int a,intB){.. ....}
   main()
   {……x=fun(i, j);.. . . . . }
   c.float fun(int,int);
   main()
   {…… x=fun(2,10); ......)
   D.main()
   {float fun(int i,int j) ;
   …… x=fun(i,j) ;……}

   ```
   正确答案: A
   【参考解析】在调用子函数时，应对其进行说明。A选项中，调用时，没有对子函数进行说明。B选项、C选项中被
   调用函数在主调函数之前定义，不用说明;D选项中在主函数中对被调用函数的返回值类型进行了说明。因此本题
   选择A选项。
   ```
7. 以下叙述中错误的是
   A.C程序必须由一个或一个以上的函数组成
   B.函数调用可以作为一个独立的语句存在
   C.若函数有返回值，必须通过return语句返回
   D.函数形参的值也可以传回给对应的实参

   ```
   正确答案:D
   【参考解析】形参是函数定义时由用户定义的形式上的变量，实参是函数调用时，主调函数为被调函数提供的
   原始数据。在C语言中，函数形参的值不可以传回给对应的实参。因此D选项正确。
   ```
8. ```cpp
   以下程序中函数f的功能是:当flag为1时，进行由小到大排序;当flag为0时，进行由大到小排序。
   #include <stdio.h>
   void f(int b[]， int n,int flag)
   {
     int i,j,t; 
     for (i=0; i<n-1; i++)
       for (j=i+1 ; j<n; j++)
         if (flag ? b[i]>b[j] : b[i]<b[j])
            { t=b[i]; b[i]=b[j]; b[j]=t; }
   }
   main()
   {
     int a[10]={5,4,3,2,1,6,7,8,9,10}， i;f(&a[2]，5,O);
     f(a，5,1);
     for (i=0; i<10;i++)
     printf("%d,"，a[i]);
   }
   程序运行后的输出结果是
   A.1,2,3,4,5,6,7,8,9,10,
   B.3,4,5,6,7,2,1,8,9,10,
   C.5,4,3,2,1,6,7,8,9,10,
   D.10,9,8,7,6,5,4,3,2,1，
   ```
   ```
   正确答案:B
   【参考解析】本题重点考查函数的参数传递，函数的参数传递分为传值和传地址两种情况。本题就是结合数组
   考查参数传递的情形。解析:函数f完成的功能是对数据进行排序，语句f(&a[2],5,0)的作用是对从a[2]开始
   的5个元素进行从大到小排序。注意:这里传递的是地址&a[2]，所以排序操作可看作是直接对数组a操作，执行后
   的结果为5,4,7,6,3,2,1,8,9,10。语句f(a,5,1)对数组a的前5个元素从小到大排序，排序后
   数组为:3,4,5,6,7,2,1,8,9,10。因此B选项正确。
   ```
9. 以下关于return语句的叙述中正确的是
   A.一个自定义函数中必须有一条return语句
   B.一个自定义函数中可以根据不同情况设置多条return语句
   C.定义成void类型的函数中可以有带返回值的return语句
   D.没有return语句的自定义函数在执行结束时不能返回到调用处

   ```
   正确答案:B
   【参考解析】在函数中允许有多个return语句，但每次调用只能有一个return语句被执行，因此只能返回一个
   函数值，A选项描述错误。定义成void类型的函数，不允许从该函数取得返回值，也不允许使用return语句，
   C选项描述错误。没有retun语句的函数在执行到函数的最后一条语句后会自动返回到调用处，D选项描述错误。
   因此B选项正确。
   ```
10. ```cpp
    设有如下函数定义:
    #include <stdio.h>
    int fun(int k)
    {
      if(k<1) return 0 ;
      else if(k= =1) return 1 ;
      else return fun(k -1) + 1 ;
    }
    若执行调用语句: n=fun(3);，则函数fun总共被调用的次数是（）。
    A.2
    B.3
    C.4
    D.5
    ```
    ```
    正确答案:B
    【参考解析】首先n=fun(3),3被当作参数传递进去，这就进行了一次调用，3被当做参数传进去后，程序会
    执行这句else return fun(k-1)+1;这就调用了第二次，而参数是3-1也就是2。2被当做参数传进去后，程序会
    执行这句elsereturn fun (k-1)+1;这就调用了第三次，而参数是2-1也就是1。1被当做参数传进去后，程序会
    执行这句else if(k= = 1) return 1;不再递归调用，所以最终结果为3次。
    ```
11. ```cpp
    有以下程序
    #include <stdio.h>
    int fun(int *x,int n)
    {
      static int m=0;
      int i, s=0 ;
      for (i=m++; i<n; i++)
      s+=x[i];
      return s;
    }
    main ( )
    {
      intx[]={1,2,3,4},k=1;
      do {
        printf("%d," ,fun(x, k)) ;
        k++;
      } while (k<3);
    }
    程序运行后的输出结果是()。
    A.1，1，
    B.1,2,
    C.1,3,
    D.0,1，
    ```
    ```
    正确答案:B
    【参考解析】题意中fun函数中定义了静态变量m，初始化值为0 , for循环每次将数组x的下标区间[m, k)
    (左开右闭）的元素值累加作为函数返回;对于静态变量，只有在第一次调用fun函数时才会初始化，后续
    调用fun函数，m的值是上一次调用fun结束后的值; main函数定义了一个整型数组x，使用4个元素初始化，k的
    初值为1 , do...while循环中每次调用fun函数，传入数组x和k，将返回值输出，并对k自增1，所以:
    第1次循环: k=1 , m=0，数组x下标[0，1)的元素是x[0]，返回值是x[0]，即1，输出1，输出后k和m的值
    自增1第2次循环:k=2， m=1，数组x下标[1，2）的元素是x[1]，返回值是x[1]，即2，输出2，输出后k和m的值
    自增1k此时取值为3，循环结束;程序输出1,2 ,本题答案B。
    ```
12. ```cpp
    有以下程序
    #include <stdio.h>
    void fun( char *p,int n )
    { char b[6]="abcde" ; int i;
      for( i=0, p=b; i<n; i++ ) p[i]=b[i];//修改了P指针的指向，因此最终的输出结果不变
    }
    main()
    { char a[6]="ABCDE";
    fun(a,5) ; printf("%s\n" , a) ;
    }
    程序运行后的输出结果是
    A.abcde
    B.ABCDE
    C.edcba
    D.EDCBA
    ```
    ```
    正确答案:B
    【参考解析】本题考查数组名作为函数参数，执行f函数时，传进去的a指针被重新指向了b，所以原本a数组的
    地址内容不变，所以输出结果为ABCDE，答案为B选项。
    ```
13. ```cpp
    有下列程序
    #include <stdio.h>
    int f(int x)
    {
      if (x < 2)
      return l;
      return x*f(x-1) + (x-1)*f(x-2) ;
    }
    main()
    {
      int y;y =f(4) ;
      printf("%d\n", y) ;
    }
    程序执行后的输出结果是()
    A.11
    B.43
    C.57
    D.53
    ```
    ```
    正确答案:D
    【参考解析】函数f是一个递归函数，当x≥2时，递归调用自身，返回值为:x*f(x-1)+(x-1)*f(x-2)，
    当x<2时，返回值为1。main函数中，调用函数f传入4，所以y的值是f(4)。
    f(4)等价于4*f(3)+3*f(2)
    f(3)等价于3*f(2)+2*f(1)
    f(2)等价于2*f(1)+1*f(0)f(O) ,
    f(1)等价于1
    综上:f(2)等于3 ， f(3)等于11 , f(4)等于53，本题答案D。
    ```
14. ```cpp
    有以下程序
    #include <stdio.h>
    char fun(char ch)
    {
        if (ch>='A’&& ch<='Z') 
            ch = ch - 'A’+'a';
        return ch;
    }
    main()
    {
        char s[] = "ABC+abc=defDEF"，*p=s;
        while (*p)
        {
            *p = fun(*p);
            p++;
        }
        printf("%s\n", s) ;
    }
    程序运行后的输出结果是（）。
    A.abc+abc=defdef
    B.abc+ABC=DEFdef
    C.abcABCDEFdef
    D.abcabcdefdef
    ```
    ```
    正确答案:A
    【参考解析】题意中，函蛰fun的功能是:判断形参ch是否大写字母，若是大写字母改写成小写字母，其他字符不变;
    main函数中，通过while循环，调用fun函数，将字符数组s中的各个字符传入，将s中的大写字母改成小写字母，
    程序输出:
    abc+abc=defdef，本题答案A。
    ```
15. ```cpp
    若想定义一个求X的n次方的函数，设传给函数的幂次n为整数，则以下四个函数中正确的是()。
    A.double mypow (double x,int n){
      int signednum,i ;
      double mul = 1.0;//初始结果化，任何数的0次幂为1
    //判断n的符号，记录正负标志
      if(n>= 0) signednum = 1;
      else
      {
        signednum = -1;
        n = -n;
      }
      for(i=1 ; i<=n ;i++)
      mul *=x;//循环累乘x次
      if(signednum == -1)
        mul = 1.0/mul ;
      return mul;
    }

    B.double mypow(double x, int n){
      int i;
      double mul=1.0;
      n=abs(n);
      for(i=1 ; i<=n; i++)
        mul *=x;
      return mul;
    }
    C. double mypow(double x, int n){
        int i;
        double mul = 1.0;
        if(n>0)
        {
          for(i=1 ; i<=n ; i++)
          mul *=x ;
        }
        else
        {
        for(i=n;i>=0 ; i--)
          mul*=1.0/x ;
        }
        return mul;
    }
    D.double mypow(double x,int n){
        int i ;
        double mul=1.0;if(n >= 0){
          for(i=0; i<=n ; i++)
            mul *=x;
        }
        else
        {
        for (i=n; i>=0 ; i--)
          mul *= 1.0/x;
        }
        return mul ;
    }
    ```
    ```
    正确答案:A
    【参考解析】求一个数的n次方时，先判断是正次方还是负次方，选项A中，先定义一个标识变量sitoedromn，
    若为正次方则给该变量赋值为1，若为负次方则给该变量赋值为-1，再利用循环将需要求次方的数进行累乘操作，
    再通过条件语句判断标识变量signedrumr当检测到该标识变量为正时，直接输出累乘后的值，当检测到该标识
    变量为负时，将累乘结果取倒后输出，本题答案为A选项。
    ```
16. ```cpp
    有如下程序
    #include <stdio.h>
    void get_put ()
    {
      char ch;
      ch = getchar() ;
      if (ch != '\n') get_put () ;
      if (ch != ' \n') putchar(ch) ;
    }
    main()
    {
      get_put() ;
    }
    程序运行时，输入AB<回车>，则输出结果是() 。
    A.BA
    B.BB
    C.A
    D.ABAB
    ```
    ```
    正确答案:A
    【参考解析】main()函数调用get_put()函数，get_put()是递归函数，每次使用getchar()读入一个字符
    存放到ch中，若ch不是字符'\n'，递归调用自身，然后调用putchar()函数输出该字符。当输入AB\n (<回车>)
    时，直到读入的字符是'\n’，输出回车符，然后回到上一层递归，逆序输出各个字符，输出结果为:<回车>BA，
    所以本题答案为A。
    ```
17. 使用VC++2010打开考生文件夹下prog1中的解决方案。此解决方案的项目中包含一个源程序文件progl.c。
    在此程序中，编写函数fun，其功能是:利用下面的简单迭代方法求方程cos(x)-x=0的一个实根。
    Xn+1=cos(Xn)迭代步骤如下:
    (1）取x1初值为0.0;
    (2）xO=x1，将x1的值赋给x0;
    (3) x1=cos(x0)，求出一个新的x1;
    (4）若x0-x1的绝对值小于0.000001，执行步骤（5），否则执行步骤（2） ﹔
    (5）所求x1就是方程cos (x)一x=0的一个实根，作为函数值返回。
    程序将输出结果Root=0.739086。
    注意:部分源程序在文件prog1.c中。
    请勿改动主函数main和其他函数中的任何内容，仅在函数fun的花括号中填入你编写的若干语句。

    ```cpp
    #include <math.h>
    #include <stdio.h>
    double fun()
    {
      double x0,x1;x1=0.0;
      do
      {
      x0=x1;
      x1=cos(x0);
      }
      While(fabs(x0-x1)>=1e-6);
      return x1;
    }

    void main()
    {
       void NONO (  );
       printf("Root =%f\n",fun());

       NONO();
    }

    void NONO (  )
    {/* 本函数用于打开文件，输入数据，调用函数，输出数据，关闭文件。 */
      FILE *wf ;
      wf = fopen("out.dat","w") ;
      fprintf(wf, "%f\n", fun()) ;
      fclose(wf) ;
    }
    ```
    ```
    【参考答案】
    double fun(){
      double x0,x1;x1=0.0;
      do
      {
      x0=x1;
      x1=cos(x0);
      }
      While(fabs(x0-x1)>=1e-6);
      return x1;
    }
    【考点分析】
    本题考查:迭代法求方程的实根;do...while循环语句，其形式为
    do
    {语句}
    while(表达式);
    do...while循环与wile循环的不同在于，它先执行循环中的语句，然后再判断表达式是否为真，如果为真
    则继续循环，如果为假，则终止循环。因此do..mhile循环至少要执行一次循环语句。
    【解题思路】
    用迭代方法求方程的一个实根，题目已经给出了算法，只要按照算法用合适的程序表达，就可以解题了。
    ```
18. 使用VC++2010打开考生文件夹下modi1中的解决方案。此解决方案的项目中包含一个源程序文件modi1.c。
    在此程序中，函数fun的功能是:求表达式
    s=aa… aa-…--aaa-aa-a
    （此处aa… aa表示n个a，a和n的值在1至9之间)例如，a=3，n=6，则以上表达式为: 。
    s=333333-33333-3333-333-33-3
    其值是296298。a和n是fun函数的形参，表达式的值作为函数值传回main函数。
    请改正程序中的错误，使它能得出正确的结果。
    注意:部分源程序在文件modi1.c中。
    不要改动main函数，不得增行或删行，也不得更改程序的结构!

    ```cpp
    #include <stdio.h>

    long fun (int a, int n)
    {  int  j ;
    /**************found**************/
       long  s = 0,  t = 1 ;
       for ( j = 0 ; j < n ; j++)
          t = t * 10 + a ;
       s = t ;
       for ( j = 1 ; j < n ; j++) {
    /**************found**************/
         t = t % 10 ;
    //去掉个位的数，要使用/法，取出数字才用%
         s = s - t ;
       }
       return(s) ;
    }

    void main( )
    {  int  a, n ;
       printf( "\nPlease enter a and n:") ;
       scanf(  "%d%d", &a, &n ) ;
       printf( "The value of  function is: %ld\n", fun ( a, n ) );
    }
    ```
    ```
    【参考答案】
    1) long s=0,t=0;
    (2) t=t/10;
    【考点分析】
    本题考查:变量赋初值操作;求余运算和除法运算的区别。
    【解题思路】
    (1) t用来存放每次循环后的多位数，第一次循环时，t应当是个位数，所以t的初始值应为0。
    (2）根据题意，这里不需要求余数，而是要去掉个位数，重新组合一个数，因此应用除法运算。
    【解题宝典】
    去掉数值n的个位的方法是采用除法运算，如果需要取出个位数才使用求余运算,不要混淆。
    ```
19. 使用VC++2010打开考生文件夹下blank1中的解决方案。此解决方案的项目中包含一个源程序文件blank1.c.在此程序中，函数fun的功能是:统计长整数n的各位上出现数字1、2、3的次数，并用外部(全局)变量c1、c2、c3返回主函数。
    例如，当n=123114350时，结果应该为: c1=3 c2=1 c3=2。
    注意:部分源程序在文件blank1.c中。
    不得增行或删行，也不得更改程序的结构!

    ```cpp
    #include <stdio.h>
    int c1,c2,c3;
    void fun(long n)
    {
         c1=c2=c3=0;
         while(n)
         {
            switch(n%10)
            {
            case 1:
                c1++;break;
            case 2:
                c2++;break;
            case 3: 
                c3++;
            }
            n/=10;
        }
    }

    void main()
    {
         long n=123114350L;
         fun(n);
         printf("\nThe result: \n");
         printf("n=%ld c1=%d c2=%d c3=%d\n",n,c1,c2,c3); 
    }
    ```
    ```
    【参考答案】
    ( 1) n%10
    (2) break
    (3) break
    【解题思路】
    填空1:要统计长整数n的各个位上出现数字1、2、3的次数，就需要判断各个位上的数是多少。通过n除以10求余，
    可得到个位上的数，所以填入n%10。填空2和填空3:switch语句是多分支选择语句，在每个分支中要加入break，不然会依次执行后面的分支。continue语句的作用是结束当前分支的运行，而break语句的作用是结束整个switch语句的运行。
    ```
20. 使用VC++2010打开考生文件夹下modi1中的解决方案。此解决方案的项目中包含一个源程序文件modi1.c。
    在此程序中，函数fun的功能是:按以下递归公式求函数的值。![.jpg](https://fynotefile.oss-cn-zhangjiakou.aliyuncs.com/fynote/2046/1637300268000/1412e2f228044b3cbec0a82428cf34af.jpg)
    例如，当给n输入5时，函数值为18;当给n输入3时，函数值为14。
    请改正程序中的错误，使它能得出正确的结果。
    注意:部分源程序在文件modi1.c中。
    不要改动main函数，不得增行或删行，也不得更改程序的结构!

    ```cpp
    #include <stdio.h>
    /************found************/
    int fun ( int n )
    {  int  c;
    /************found************/
       if(n==1)
         c = 10 ;
       else   
         c= fun(n-1)+2;  
       return(c);
    }
    void main()
    {  int   n;
       printf("Enter  n :  "); scanf("%d",&n);
       printf("The result : %d\n\n", fun(n));
    }
    ```
    ```
    【参考答案】
    (1) int fun(int n)
    (2) if(n==1)
    【考点分析】
    本题考查:有参函数定义; if语句条件表达式中==与=的区别。
    【解题思路】
    (1）定义有参函数时，形参变量要分别定义其类型，根据主函数中的调用函数可知,此处形参变量应定义为int型。
    (2) if条件判断表达式中，n=1是赋值表达式，表达式的值永远为真，不能形成判断条件，应将n=1改为n==1。
    ```
